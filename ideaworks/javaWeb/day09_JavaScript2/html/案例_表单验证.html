<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>表单验证</title>
    <link rel="stylesheet" href="../css/register.css" />
    <!--<link rel="script" src="../js/form.js" />-->
</head>
<body>
<div id="rg">
    <div id="d1">
        <p id="p1">新用户注册</p>
        <p id="p2">USER REGISTER</p>
    </div>
    <div id="d2">
        <div>
            <form action="#"  id="form" method="post" >
                <table width="100%" border="0">
                    <tr>
                        <td width="72" class="td_left">用户名:</td>
                        <td width="276" class="td_right"><input type="text" name="username" id="username"
                                                                placeholder="请输入用户名">
                            <span id="s_username" class="error"></span>
                        </td>

                    </tr>
                    <tr>
                        <td class="td_left">密 码:</td>
                        <td class="td_right"><input type="password" name="password" id="password" placeholder="请输入密码">
                            <span id="s_password" class="error"></span>
                        </td>

                    </tr>
                    <tr>
                        <td class="td_left">邮 箱:</td>
                        <td class="td_right"><input type="text" name="email" id="email" placeholder="请输入邮箱">
                            <span id="s_email" class="error"></span>
                        </td>
                    </tr>
                    <tr>
                        <td class="td_left">手机号:</td>
                        <td class="td_right"><input type="text" name="phone" id="phone" placeholder="请输入手机号">
                            <span id="s_phone" class="error"></span>
                        </td>
                    </tr>
                    <tr>
                        <td class="td_left">性 别:</td>
                        <td class="td_right" height="33px" style="padding-top: 7px"><input type="radio" name="radio" id="man" value="man" checked>
                            男
                            <input type="radio" name="radio" id="woman" value="woman">
                            女
                        </td>
                    </tr>
                    <tr>
                        <td class="td_left">出生日期:</td>
                        <td class="td_right"><input type="date" id="date"></td>
                    </tr>
                    <tr>
                        <td class="td_left">验证码:</td>
                        <td class="td_right"><input type="text" name="vericode" id="vericode">
                            <img src="../../day07_CSS/img/verify_code.jpg" id="img_checked">
                            <span id="s_vericode" class="error"></span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" align="center"><input type="submit" name="submit" id="submit" value="注册"></td>
                    </tr>
                </table>

            </form>
        </div>
    </div>
    <div id="d3">已有账号?<a href="./login.html">立即登录</a></div>
</div>
<div id="dibu">
    版权所有:2018年10月19日  &copy; 周凌云制作
</div>
<script>
    window.onload = function(){
        //1.给表单绑定onsubmit事件
        document.getElementById("form").onsubmit = function(){
            return checkUsername() && checkPassword();
        }

        //给用户名和密码框分别绑定离焦事件
        document.getElementById("username").onblur = checkUsername;
        document.getElementById("password").onblur = checkPassword;
        document.getElementById("email").onblur = checkEmail;
        document.getElementById("phone").onblur = checkPhond;
        document.getElementById("vericode").onblur = checkVericode;
    }

    //校验用户名
    function checkUsername(){
        //1.获取用户名的值
        var username = document.getElementById("username").value;
        //2.定义正则表达式
        var reg_username = /^\w{4,12}$/;
        //3.判断值是否符合正则的规则
        var flag = reg_username.test(username);
        //4.提示信息
        var s_username = document.getElementById("s_username");

        if(flag){
            //提示绿色对勾
            s_username.innerHTML = "用户名正确";
        }else{
            //提示红色用户名有误
            s_username.innerHTML = "用户名格式有误";
        }
        return flag;
    }

    //校验密码
    function checkPassword(){
        //1.获取用户名的值
        var password = document.getElementById("password").value;
        //2.定义正则表达式
        var reg_password = /^\w{6,12}$/;
        //3.判断值是否符合正则的规则
        var flag = reg_password.test(password);
        //4.提示信息
        var s_password = document.getElementById("s_password");

        if(flag){
            //提示绿色对勾
            s_password.innerHTML = "密码正确";
        }else{
            //提示红色用户名有误
            s_password.innerHTML = "密码格式有误";
        }
        return flag;
    }

    //校验邮箱
    function checkEmail(){
        //1.获取用户名的值
        var email = document.getElementById("email").value;
        //2.定义正则表达式
        var reg_email = /^(\w-*\.*)+@(\w-?)+(\.\w{2,})$/;
        //3.判断值是否符合正则的规则
        var flag = reg_email.test(email);
        //4.提示信息
        var s_email = document.getElementById("s_email");

        if(flag){
            //提示绿色对勾
            s_email.innerHTML = "邮箱符合格式";
        }else{
            //提示红色用户名有误
            s_email.innerHTML = "邮箱格式有误";
        }
        return flag;
    }

    //校验手机号码
    function checkPhond(){
        //1.获取用户名的值
        var phone = document.getElementById("phone").value;
        //2.定义正则表达式
        var reg_phone = /^[1][3,5,8][0-9]{9}$/;
        //3.判断值是否符合正则的规则
        var flag = reg_phone.test(phone);
        //4.提示信息
        var s_phone = document.getElementById("s_phone");

        if(flag){
            //提示绿色对勾
            s_phone.innerHTML = "手机号正确";
        }else{
            //提示红色用户名有误
            s_phone.innerHTML = "请输入正确手机号";
        }
        return flag;
    }

    //校验验证码
    function checkVericode() {
        //1.获取用户名的值
        var vericode = document.getElementById("vericode").value;
        //2.定义正则表达式
        var reg_vericode = /^[j][g][n][x][j]$/;
        //3.判断值是否符合正则的规则
        var flag = reg_vericode.test(vericode);
        //4.提示信息
        var s_vericode = document.getElementById("s_vericode");

        if (flag) {
            //提示绿色对勾
            s_vericode.innerHTML = "验证码正确";
        } else {
            //提示红色用户名有误
            s_vericode.innerHTML = "验证码错误";
        }
        return flag;
    }
</script>
</body>
</html>